



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/octopus-black-32.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Confluence - Foliant</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:300,400,400i,700|PT+Mono&display=fallback">
        <style>body,input{font-family:"PT Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"PT Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-120535275-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="rgba(0,-0,-0,-0.87)" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#confluence" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Foliant" class="md-header-nav__button md-logo">
          
            <img src="../../assets/octopus-white.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Foliant
            </span>
            <span class="md-header-nav__topic">
              
                Confluence
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/foliant-docs/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    foliant-docs/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Foliant" class="md-nav__button md-logo">
      
        <img src="../../assets/octopus-white.svg" width="48" height="48">
      
    </a>
    Foliant
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/foliant-docs/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    foliant-docs/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome to Foliant!" class="md-nav__link">
      Welcome to Foliant!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Backends
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Backends
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Confluence
      </label>
    
    <a href="./" title="Confluence" class="md-nav__link md-nav__link--active">
      Confluence
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#confluence_upload-backend-for-foliant" title="confluence_upload backend for Foliant" class="md-nav__link">
    confluence_upload backend for Foliant
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config" title="Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modes" title="Modes" class="md-nav__link">
    Modes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-mode" title="single mode" class="md-nav__link">
    single mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-mode" title="multiple mode" class="md-nav__link">
    multiple mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-pages-with-confluence_upload" title="Creating pages with confluence_upload" class="md-nav__link">
    Creating pages with confluence_upload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-pages-with-confluence_upload" title="Updating pages with confluence_upload" class="md-nav__link">
    Updating pages with confluence_upload
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mkdocs/" title="MkDocs" class="md-nav__link">
      MkDocs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pandoc/" title="Pandoc" class="md-nav__link">
      Pandoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../slate/" title="Slate" class="md-nav__link">
      Slate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Preprocessors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Preprocessors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/general_notes/" title="General Notes" class="md-nav__link">
      General Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/admonitions/" title="Admonitions" class="md-nav__link">
      Admonitions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/anchors/" title="Anchors" class="md-nav__link">
      Anchors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/apilinks/" title="APILinks" class="md-nav__link">
      APILinks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/badges/" title="Badges" class="md-nav__link">
      Badges
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/bindsympli/" title="BindSympli" class="md-nav__link">
      BindSympli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/blockdiag/" title="Blockdiag" class="md-nav__link">
      Blockdiag
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/csvtables/" title="CSVTables" class="md-nav__link">
      CSVTables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/customids/" title="CustomIDs" class="md-nav__link">
      CustomIDs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/epsconvert/" title="Epsconvert" class="md-nav__link">
      Epsconvert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/escapecode/" title="EscapeCode and UnescapeCode" class="md-nav__link">
      EscapeCode and UnescapeCode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/flags/" title="Flags" class="md-nav__link">
      Flags
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/flatten/" title="Flatten" class="md-nav__link">
      Flatten
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/graphviz/" title="Graphviz" class="md-nav__link">
      Graphviz
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/imagemagick/" title="ImageMagick" class="md-nav__link">
      ImageMagick
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/imgcaptions/" title="ImgCaptions" class="md-nav__link">
      ImgCaptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/includes/" title="Includes" class="md-nav__link">
      Includes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/macros/" title="Macros" class="md-nav__link">
      Macros
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/mermaid/" title="Mermaid" class="md-nav__link">
      Mermaid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/multilinetables/" title="MultilineTables" class="md-nav__link">
      MultilineTables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/pgsqldoc/" title="Pgsqldoc" class="md-nav__link">
      Pgsqldoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/plantuml/" title="Plantuml" class="md-nav__link">
      Plantuml
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/replace/" title="Replace" class="md-nav__link">
      Replace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/repolink/" title="RepoLink" class="md-nav__link">
      RepoLink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/runcommands/" title="RunCommands" class="md-nav__link">
      RunCommands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/swaggerdoc/" title="SwaggerDoc" class="md-nav__link">
      SwaggerDoc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/templateparser/" title="TemplateParser" class="md-nav__link">
      TemplateParser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../preprocessors/testrail/" title="Testrail" class="md-nav__link">
      Testrail
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      CLI Extensions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        CLI Extensions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cli/bump/" title="Bump" class="md-nav__link">
      Bump
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cli/gupload/" title="Gupload" class="md-nav__link">
      Gupload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cli/meta/" title="Meta" class="md-nav__link">
      Meta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cli/project_graph/" title="ProjectGraph" class="md-nav__link">
      ProjectGraph
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cli/init/" title="Init" class="md-nav__link">
      Init
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-6" type="checkbox" id="nav-6-6">
    
    <label class="md-nav__link" for="nav-6-6">
      Init Templates
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-6">
        Init Templates
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cli/init/templates/preprocessor/" title="Preprocessor" class="md-nav__link">
      Preprocessor
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cli/src/" title="Src" class="md-nav__link">
      Src
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cli/subset/" title="Subset" class="md-nav__link">
      Subset
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Config Extensions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Config Extensions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../config/from/" title="MultiProject" class="md-nav__link">
      MultiProject
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../config/slugs/" title="Slugs" class="md-nav__link">
      Slugs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#confluence_upload-backend-for-foliant" title="confluence_upload backend for Foliant" class="md-nav__link">
    confluence_upload backend for Foliant
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#config" title="Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modes" title="Modes" class="md-nav__link">
    Modes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-mode" title="single mode" class="md-nav__link">
    single mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-mode" title="multiple mode" class="md-nav__link">
    multiple mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-pages-with-confluence_upload" title="Creating pages with confluence_upload" class="md-nav__link">
    Creating pages with confluence_upload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-pages-with-confluence_upload" title="Updating pages with confluence_upload" class="md-nav__link">
    Updating pages with confluence_upload
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/foliant-docs/docs/edit/master/src/backends/confluence.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="confluence">Confluence<a class="headerlink" href="#confluence" title="Permanent link">&para;</a></h1>
<p><img alt="" src="https://img.shields.io/pypi/v/foliantcontrib.confluence_upload.svg" /></p>
<h2 id="confluence_upload-backend-for-foliant">confluence_upload backend for Foliant<a class="headerlink" href="#confluence_upload-backend-for-foliant" title="Permanent link">&para;</a></h2>
<p>confluence_upload backend generates a confluence article and uploads it into your confluence server. With it you can create and edit pages in Confluence based on your Foliant project.</p>
<p>It also has a feature of restoring the user inline comments, added for the article, even after the commented fragment was changed.</p>
<p>This backend adds the <code>confluence</code> target for your Foliant <code>make</code> command.</p>
<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span>$ pip install foliantcontrib.confluence_upload
</pre></div>


<blockquote>
<p>confluence_upload backend requires <a href="https://pandoc.org/">Pandoc</a> to be installed in your system. Pandoc is needed to convert Markdown into HTML.</p>
</blockquote>
<h3 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h3>
<p>To upload a Foliant project to Confluence server use <code>make confluence</code> command:</p>
<div class="codehilite"><pre><span></span>$ foliant make confluence
Parsing config... Done
Making confluence... Done
────────────────────
Result: https://my_confluence_server.org/pages/viewpage.action?pageId<span class="o">=</span><span class="m">123</span>
</pre></div>


<h3 id="config">Config<a class="headerlink" href="#config" title="Permanent link">&para;</a></h3>
<p>You have to set up a config for this backend to work properly.</p>
<p>Specify all options in <code>backend_config.confluence_upload</code> section:</p>
<div class="codehilite"><pre><span></span><span class="nt">backend_config</span><span class="p">:</span>
  <span class="nt">confluence_upload</span><span class="p">:</span>
    <span class="nt">host</span><span class="p">:</span> <span class="s">&#39;https://my_confluence_server.org&#39;</span>
    <span class="nt">login</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user</span>
    <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pass</span>
    <span class="nt">mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">single</span>
    <span class="nt">toc</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
    <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">124443</span>
    <span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Title of the page</span>
    <span class="nt">space_key</span><span class="p">:</span> <span class="s">&quot;~user&quot;</span>
    <span class="nt">parent_id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">124442</span>
    <span class="nt">pandoc_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pandoc</span>
</pre></div>


<dl>
<dt><code>host</code></dt>
<dd><strong>Required</strong> Host of your confluence server.</dd>
<dt><code>login</code></dt>
<dd>Login of the user who has the rights to create and update pages. If login is not supplied, it will be prompted during build</dd>
<dt><code>password</code></dt>
<dd>Password of the user. If password is not supplied, it will be prompted during build</dd>
<dt><code>mode</code></dt>
<dd>One of: <code>single</code>, <code>multiple</code>. In single mode backend uploads the whole Foliant project into specified Confluence page. In multiple mode backend uploads several chapters into separate Confluecnce pages defined with metadata. More info in the <strong>Modes</strong> section. Default: <code>single</code>.</dd>
<dt><code>toc</code></dt>
<dd>Set to <code>true</code> to add table of contents into the beginning of the document. Default: <code>false</code></dd>
<dt><code>id</code></dt>
<dd>ID of the page into which the content will be uploaded (use only with <code>single</code> mode). <em>Only for already existing pages</em></dd>
<dt><code>title</code></dt>
<dd>Title of the page to be created or updated (use only with <code>single</code> mode).</dd>
</dl>
<blockquote>
<p>Remember that titles of the pages in one space are unique in Confluence.</p>
</blockquote>
<dl>
<dt><code>space_key</code></dt>
<dd>The key of the space where the page(s) will be created/edited.</dd>
<dt><code>parent_id</code></dt>
<dd>ID of the parent page under which the new one(s) should be created. <em>Only for not yet existing pages</em>.</dd>
<dt><code>pandoc_path</code></dt>
<dd>Path to Pandoc executable (Pandoc is used to convert Markdown into HTML).</dd>
</dl>
<h3 id="modes">Modes<a class="headerlink" href="#modes" title="Permanent link">&para;</a></h3>
<p>Backend confluence_upload can work in two modes:</p>
<p><code>single</code> — the whole project is flattened and uploaded into a single Confluence page;
<code>multiple</code> — you may upload several chapters of your project into separate Confluence pages.</p>
<h4 id="single-mode">single mode<a class="headerlink" href="#single-mode" title="Permanent link">&para;</a></h4>
<p>To use single mode first supply an option <code>mode: single</code> in foliant.yml, and then specify all the page properties (id or title &amp; space) in the same foliant.yml config file. The project will be built, flattened into a single page and uploaded under the defined properties.</p>
<h4 id="multiple-mode">multiple mode<a class="headerlink" href="#multiple-mode" title="Permanent link">&para;</a></h4>
<p>With the power of multiple mode you may create or update several Confluence pages with just one <code>make</code> command.</p>
<p>To switch on multiple mode, add an option <code>mode: multiple</code> to your foliant.yml file. Next, add properties defining the confluence page (like id or title &amp; space) to the meta section of each chapter that you want to upload.</p>
<p>Meta section is a YAML field-value section in the beginning of the document, which is defined like this:</p>
<div class="codehilite"><pre><span></span><span class="nn">---</span>
<span class="nt">field</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">value</span>
<span class="nt">field2</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">value</span>
<span class="nn">---</span>

<span class="l l-Scalar l-Scalar-Plain">Your chapter md-content</span>
</pre></div>


<p>So if you want to upload a chapter into confluence, add something like this into the beginning of it:</p>
<div class="codehilite"><pre><span></span><span class="nn">---</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My confluence page</span>
<span class="nt">space_key</span><span class="p">:</span> <span class="s">&quot;~user&quot;</span>
<span class="nt">confluence</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>  <span class="c1"># this is required</span>
<span class="nn">---</span>

<span class="l l-Scalar l-Scalar-Plain">You chapter md-content</span>
</pre></div>


<blockquote>
<p>Notice that we've also added a <code>confluence: true</code> key, which is required for chapter to be uploaded. If the key is <code>false</code> or is not defined, confluence_upload backend will ignore this chapter.</p>
</blockquote>
<p>After you've added properties to every page you want to be uploaded, run the same <code>make confluence</code> command:</p>
<div class="codehilite"><pre><span></span>$ foliant make confluence
Parsing config... Done
Making confluence... Done
────────────────────
Result:
https://my_confluence_server.org/pages/viewpage.action?pageId<span class="o">=</span><span class="m">1231</span>
https://my_confluence_server.org/pages/viewpage.action?pageId<span class="o">=</span><span class="m">1232</span>
https://my_confluence_server.org/pages/viewpage.action?pageId<span class="o">=</span><span class="m">1233</span>
</pre></div>


<h3 id="creating-pages-with-confluence_upload">Creating pages with confluence_upload<a class="headerlink" href="#creating-pages-with-confluence_upload" title="Permanent link">&para;</a></h3>
<p>If you want a new page to be created for content in your Foliant project, just supply the title and the space key in the config. Remember that in Confluence page titles are unique inside one space. If you use a title of already existing page, confluence_upload will attempt to edit it and replace its content with your project.</p>
<p>Example config for this situation is:</p>
<div class="codehilite"><pre><span></span><span class="nt">backend_config</span><span class="p">:</span>
  <span class="nt">confluence_upload</span><span class="p">:</span>
    <span class="nt">host</span><span class="p">:</span> <span class="s">&#39;https://my_confluence_server.org&#39;</span>
    <span class="nt">login</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user</span>
    <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pass</span>
    <span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My unique title</span>
    <span class="nt">space_key</span><span class="p">:</span> <span class="s">&quot;~user&quot;</span>
</pre></div>


<p>Now if you change the title in your config, confluence_upload will <em>create a new page with the new title</em>, the old one remaining intact.</p>
<p>If you want to change the title of your page, the answer is in the following section.</p>
<h3 id="updating-pages-with-confluence_upload">Updating pages with confluence_upload<a class="headerlink" href="#updating-pages-with-confluence_upload" title="Permanent link">&para;</a></h3>
<p>Generally to update the page contents you may use the same config you used to create it (see previous section).</p>
<p>Also, you can just specify the id of your page, this way after build its contents will be updated.</p>
<div class="codehilite"><pre><span></span><span class="nt">backend_config</span><span class="p">:</span>
  <span class="nt">confluence_upload</span><span class="p">:</span>
    <span class="nt">host</span><span class="p">:</span> <span class="s">&#39;https://my_confluence_server.org&#39;</span>
    <span class="nt">login</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user</span>
    <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pass</span>
    <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">124443</span>
</pre></div>


<p>This is also <em>the only</em> way to edit a page title. If <code>title</code> param is specified, confluence_upload will attempt to change the page's title to the new one:</p>
<div class="codehilite"><pre><span></span><span class="nt">backend_config</span><span class="p">:</span>
  <span class="nt">confluence_upload</span><span class="p">:</span>
    <span class="nt">host</span><span class="p">:</span> <span class="s">&#39;https://my_confluence_server.org&#39;</span>
    <span class="nt">login</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user</span>
    <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pass</span>
    <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">124443</span>
    <span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">New unique title</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../quickstart/" title="Quickstart" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Quickstart
              </span>
            </div>
          </a>
        
        
          <a href="../mkdocs/" title="MkDocs" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                MkDocs
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/foliant-docs/foliant" class="md-footer-social__link fa fa-github"></a>
    
      <a href="/docs/assets/foliant-docs.pdf" class="md-footer-social__link fa fa-file-pdf-o"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>